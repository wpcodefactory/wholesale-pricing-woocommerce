jQuery(document).ready(function(){var options=alg_wc_wh_pr_pbqd_obj;var input_timer;var input_timer_interval_ms=options.interval_ms;var is_variation=('variable'===options.product_type&&options.is_variable_different_prices);var price_identifier=(is_variation?options.price_identifier_variation:options.price_identifier);var ppq_element_id='p.alg-wc-wholesale-pricing-price-display-by-qty';var ppq_element_html='<p class="alg-wc-wholesale-pricing-price-display-by-qty"></p>';function insert_element(){switch(options.position){case'before':jQuery(price_identifier).before(ppq_element_html);break;case'after':jQuery(price_identifier).after(ppq_element_html);break}}function display(qty){if('undefined'===typeof qty||null===qty){return}var product_id=('variable'===options.product_type?jQuery('input[name="variation_id"]').val():options.product_id);var data={action:'alg_wc_wholesale_pricing_price_by_qty_display',alg_wc_wholesale_pricing_qty:qty,alg_wc_wholesale_pricing_id:product_id,};jQuery.ajax({type:'POST',url:options.ajax_url,data:data,success:function(response){if(''!=response){if('instead'==options.position){jQuery(price_identifier).html(response)}else{if(!jQuery(ppq_element_id).length){insert_element()}jQuery(ppq_element_id).html(response)}}},})}function run(){if('instead'!=options.position){insert_element()}var is_pq_dropdown=(!options.do_force_standard_qty_input&&jQuery('[name="quantity_pq_dropdown"]').length);var do_timer=(!is_pq_dropdown&&!options.is_sticky_add_to_cart);var selector=(is_pq_dropdown?'[name="quantity_pq_dropdown"]':'.qty[name="quantity"]');display(jQuery(selector).val());if(do_timer){jQuery(selector).on('input change',function(){clearTimeout(input_timer);input_timer=setTimeout(function(){display(jQuery(selector).val())},input_timer_interval_ms)})}else{jQuery(selector).on('input change',function(){display(jQuery(this).val())});if(options.is_sticky_add_to_cart){jQuery('.wsc-input-group').on('click','.wsc-button-plus',function(){display(jQuery(this).closest('.wsc-input-group').find('.wsc-quantity-field').val())});jQuery('.wsc-input-group').on('click','.wsc-button-minus',function(){display(jQuery(this).closest('.wsc-input-group').find('.wsc-quantity-field').val())})}}jQuery(document.body).on('show_variation',function(){display(jQuery(selector).val())});jQuery(document.body).on('hide_variation',function(){if('instead'==options.position){jQuery(price_identifier).html(options.product_price_default)}else{jQuery(ppq_element_id).html('')}})}run()});